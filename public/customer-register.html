<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Customer Registration</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">

    <style>
        .register-note {
            margin-bottom: 15px;
            color: green;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>

<div class="login-wrapper">
    <div class="login-card">
        <h2>üìù Customer Registration</h2>
        <p>Create or reset your account password</p>

        <!-- Message for forced reset -->
        <div class="register-note" id="resetMsg"></div>

        <form method="POST" action="/customer/register">
            <input
                type="text"
                name="name"
                placeholder="Full Name"
                required
            />

            <input
                type="text"
                name="mobile"
                id="mobileInput"
                placeholder="Mobile Number"
                required
            />

            <input
                type="password"
                name="password"
                placeholder="Create New Password"
                required
            />

            <button type="submit">Register</button>
        </form>

        <a href="/customer-login" class="back-link">‚¨Ö Back to Login</a>
    </div>
</div>

<script>
    const params = new URLSearchParams(window.location.search);

    // If admin forced password reset
    if (params.get("reset")) {
        document.getElementById("resetMsg").innerText =
            "‚ö† Your password was reset by admin. Please re-register with a new password.";
    }

    // Pre-fill mobile number if provided
    if (params.get("mobile")) {
        document.getElementById("mobileInput").value = params.get("mobile");
        document.getElementById("mobileInput").readOnly = true;
    }
</script>

</body>
</html>