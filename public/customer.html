<body>
  <div class="container">
    <h2>Select Item</h2>

    <button onclick="buy('Cold Drink', 30)">Cold Drink – ₹30</button>
    <button onclick="buy('Chips', 20)">Chips – ₹20</button>

    <div class="link">
      <a href="/">Logout</a>
    </div>
  </div>

  <script>
    async function buy(item, amount) {
      const customer_id = localStorage.getItem("customer_id");

      if (!customer_id) {
        alert("Login again");
        window.location.href = "/customer-login";
        return;
      }

      await fetch("/api/payment", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ customerId: customer_id, item, amount })
      });

      alert("Payment successful");
    }
  </script>
</body>